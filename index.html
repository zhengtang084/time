<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO ä¼˜åŒ– + ç¤¾äº¤åˆ†äº«å¡ç‰‡ -->
    <title>åšè°ˆå½±åƒæ¡£æ¡ˆåº“ ChinaTime - å†å²å½±åƒæ—¶é—´æœºå™¨</title>
    <meta name="description" content="åšè°ˆç½‘å†å²å½±åƒæ¡£æ¡ˆåº“ï¼Œæ”¶å½•2014å¹´ä»¥æ¥å¾®åšè°ˆã€å¾®å†å²ã€å¾®è§†é‡ç­‰æ ç›®ç»å…¸å›¾ç‰‡ï¼Œæ”¯æŒæ—¶é—´è½´ã€æ–‡å­—æœç´¢ã€å¤šè¯­è¨€æµè§ˆï¼Œéå•†ä¸šå­¦æœ¯ç ”ç©¶ä¸“ç”¨ã€‚">
    <meta name="keywords" content="åšè°ˆç½‘,å†å²å½±åƒ,å¾®åšè°ˆ,å¾®å†å²,å¾®è§†é‡,ä¸­å›½æ¡£æ¡ˆ,äº’è”ç½‘å›¾ç‰‡åº“,åšè°ˆå½±åƒæ¡£æ¡ˆåº“">
    
    <meta property="og:title" content="åšè°ˆå½±åƒæ¡£æ¡ˆåº“ ChinaTime - å†å²å½±åƒæ—¶é—´æœºå™¨">
    <meta property="og:description" content="æµ·é‡åšè°ˆç½‘å†å²å½±åƒï¼Œæ”¯æŒæ—¶é—´è½´ç­›é€‰ã€å…³é”®è¯æœç´¢ã€å¤šè¯­è¨€åˆ‡æ¢ã€‚">
    <meta property="og:image" content="https://yourdomain.com/preview.jpg">
    <meta property="og:url" content="https://yourdomain.com/">
    <meta property="og:type" content="website">
    
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0066cc;
            --main-bg: #f8f9fa;
            --card-bg: #ffffff;
            --text-main: #333333;
            --text-muted: #666666;
            --border-color: #e0e0e0;
            --input-bg: #ffffff;
            --control-bg: #f1f3f5;
            --thumb-color: #0066cc;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --primary-color: #4d88ff;
                --main-bg: #1e1e1e;
                --card-bg: #2d2d2d;
                --text-main: #e0e0e0;
                --text-muted: #aaaaaa;
                --border-color: #444444;
                --input-bg: #333333;
                --control-bg: #3a3a3a;
                --thumb-color: #4d88ff;
            }
        }

        html, body {
            overflow-x: hidden;
            width: 100%;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body { 
            font-family: "Segoe UI", system-ui, -apple-system, "Microsoft YaHei", "PingFang SC", sans-serif; 
            background-color: var(--main-bg); 
            color: var(--text-main); 
            min-width: 0;
            transition: all 0.3s ease;
        }

        #mobile-menu-btn {
            display: none;
            position: fixed;
            top: 15px;
            left: 15px;
            z-index: 200;
            background: var(--primary-color);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        #sidebar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 300px;
            height: 100vh;
            background: var(--main-bg);
            border-right: 1px solid var(--border-color);
            z-index: 100;
            transition: transform 0.3s ease;
        }

        #sidebar {
            width: 300px;
            padding: 25px;
            box-sizing: border-box;
            overflow-y: auto;
            height: 100%;
        }

        .sidebar-item { margin-bottom: 25px; }
        .label-text { font-size: 13px; color: #888; margin-bottom: 8px; display: block;}
        .label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
        
        .range-sub-info { display: flex; justify-content: space-between; font-size: 11px; color: var(--text-main); margin-top: 4px; opacity: 0.8; }
        
        .stats-box { background: var(--control-bg); padding: 15px; border-radius: 10px; text-align: center; margin-bottom: 25px; border: 1px solid var(--border-color); }
        #total-count { font-size: 24px; font-weight: bold; color: var(--primary-color); display: block; margin-top: 5px; }

        select { 
            width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); 
            background-color: var(--input-bg); color: var(--text-main); box-sizing: border-box; outline: none; 
            font-size: 14px;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23666' width='18px' height='18px'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 10px center;
        }

        .search-wrapper { display: flex; gap: 5px; }
        .search-input { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); background: var(--input-bg); color: var(--text-main); box-sizing: border-box; outline: none; }
        .btn-search { background: var(--primary-color); color: white; border: none; border-radius: 8px; padding: 0 15px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; }
        .btn-search:hover { background: #3388ff; }
        .btn-search i { font-size: 18px; }

        .radio-group { display: flex; flex-direction: column; gap: 8px; }
        .radio-item { cursor: pointer; padding: 10px; border-radius: 6px; background: var(--control-bg); font-size: 13px; color: var(--text-main); transition: 0.2s; border: 1px solid var(--border-color); }
        .radio-item.active { background: var(--primary-color); color: white; font-weight: bold; }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: var(--control-bg);
            outline: none;
            -webkit-appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: var(--thumb-color);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        input[type="range"]::-moz-range-thumb {
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: var(--thumb-color);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        #main-content { 
            margin-left: 300px;
            padding: 40px;
            box-sizing: border-box;
            transition: margin-left 0.3s ease;
        }

        .gallery { 
            column-count: var(--column-count, 3); 
            column-gap: 30px; 
        }
        
/* ã€åŸæœ‰ä»£ç ï¼šå¤§çº¦åœ¨ 167 è¡Œï¼Œç¡®ä¿ .date-group-header åŸºç¡€å±æ€§å¦‚ä¸‹ã€‘ */
.date-group-header {
    column-span: all;
    break-inside: avoid;
    padding: 15px 20px;
    margin: 30px 0 20px;
    font-size: 20px;
    font-weight: bold;
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-color);
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 0;
    
/* --- æ ¸å¿ƒä¿®å¤ï¼šå¼ºåˆ¶æ‰§è¡Œæµ®åŠ¨ --- */
    position: -webkit-sticky !important; 
    position: sticky !important;         
    top: 0 !important;                   
    z-index: 1000 !important;            
    background: var(--bg-color) !important;

}

/* ================================================= */
/* ã€ç»Ÿä¸€ç®¡ç†ï¼šç§»åŠ¨ç«¯å“åº”å¼å¸ƒå±€åŒºåŸŸã€‘ */

/* ç¬¬ä¸€å±‚ï¼šé€‚é…å¹³æ¿åŠæ‰‹æœº (900pxä»¥ä¸‹) */
@media (max-width: 900px) {
    .date-group-header {
        top: 60px;          /* ç§»åŠ¨ç«¯å‘ä¸‹åç§»ï¼Œé¿å¼€èœå•æŒ‰é’® */
        font-size: 16px;
        padding: 10px 15px;
        background: var(--control-bg);
    }
    
    /* ä½ å¯ä»¥åœ¨è¿™é‡Œæ”¾å…¶ä»– 900px ä»¥ä¸‹éœ€è¦çš„ä¿®æ”¹ */
}

/* ç¬¬äºŒå±‚ï¼šä¸“é—¨é€‚é…çª„å±æ‰‹æœº (500pxä»¥ä¸‹) */
@media (max-width: 500px) {
    /* ã€åŸæœ‰ä»£ç ã€‘ */
    .gallery { column-gap: 10px; }
    .stats-box { padding: 12px; }
    
    /* å¦‚æœä½ è§‰å¾—æ‰‹æœºä¸Š 60px è¿˜æ˜¯å¤ªé«˜ï¼Œç”šè‡³å¯ä»¥åœ¨è¿™é‡Œå¾®è°ƒ */
    .date-group-header {
        top: 55px; 
    }
}

        .card { 
            break-inside: avoid-column;
            margin-bottom: 30px;
            background: var(--card-bg); 
            border-radius: 12px; 
            overflow: hidden; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); 
            border: 1px solid var(--border-color); 
            display: flex; 
            flex-direction: column; 
            width: 100%; 
            min-width: 0;
        }
        .card-img-container { background: #000; width: 100%; display: flex; justify-content: center; align-items: center; }
        .card img { max-width: 100%; height: auto; object-fit: contain; cursor: zoom-in; display: block; }
        .card-info { padding: 15px; min-width: 0; }
        .item-date { font-size: 13px; color: var(--primary-color); font-weight: 500; }
        .item-title-link { color: var(--primary-color); text-decoration: none; font-size: 13px; cursor: pointer; font-weight: 600; text-align: right; flex: 1; margin-left: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

        .description-panel { max-height: 0; overflow: hidden; transition: max-height 0.4s ease-out; font-size: 12px; color: var(--text-muted); line-height: 1.6; }
        .description-panel.open { max-height: 600px; margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--border-color); }

        #lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; flex-direction: column; justify-content: center; align-items: center; }
        #lightbox-img { max-width: 95vw; max-height: 80vh; object-fit: contain; }
        .lb-nav { position: absolute; top: 50%; width: 96%; display: flex; justify-content: space-between; pointer-events: none; transform: translateY(-50%); }
        .lb-btn { pointer-events: auto; background: rgba(255,255,255,0.1); color: white; border: none; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; border-radius: 50%; font-size: 24px; transition: 0.3s; }
        .lb-btn:hover { background: var(--primary-color); }
        .lb-close { position: absolute; top: 30px; right: 30px; width: 45px; height: 45px; font-size: 28px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }

        #load-more { display: block; margin: 60px auto; padding: 15px 40px; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 14px; max-width: 80%; line-height: 1.5; }

        #copyright-notice {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
            font-size: 13px;
            border-top: 1px solid var(--border-color);
            margin-top: 20px;
        }
        #copyright-notice a { color: var(--primary-color); text-decoration: none; }
        #copyright-notice a:hover { text-decoration: underline; }
        #lb-copyright { color: #ccc; font-size: 13px; margin-top: 20px; text-align: center; padding: 0 40px; }

        @media (max-width: 900px) {
            #mobile-menu-btn { display: block; }
            #sidebar-container { transform: translateX(-100%); }
            #sidebar-container.open { transform: translateX(0); }
            #main-content { margin-left: 0; padding: 70px 15px 20px; }
            .gallery { column-gap: 15px; }
            #sidebar { width: 100%; padding: 70px 15px 20px; }
        }

    </style>
</head>
<body>

<button id="mobile-menu-btn" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
</button>

<div id="sidebar-container">
    <div id="sidebar">
        <h2 id="ui-title">ğŸ® æ§åˆ¶å°</h2>
        <div class="sidebar-item">
            <label class="label-text" id="ui-lang-label">ğŸŒ è¯­è¨€åˆ‡æ¢/Language</label>
            <select id="lang-select" onchange="changeLang(this.value)"></select>
        </div>
		
<div class="stats-box">
    <span class="label-text" id="ui-stats-label">ğŸ“Š å…¨é¦†å½±åƒæ€»è®¡</span>
    <span id="total-count">...</span>
    <small id="ui-unit">å·</small>

    <div style="margin-top: 15px; padding-top: 10px; border-top: 1px dashed var(--border-color); display: grid; grid-template-columns: 1fr 1fr; row-gap: 10px;">
        <div style="text-align: center;">
            <span class="label-text" id="ui-year-label" style="font-size: 11px;">æœ¬å¹´æ–°å¢</span>
            <div id="year-count" style="font-weight: bold; color: var(--text-main);">0</div>
        </div>
        <div style="text-align: center;">
            <span class="label-text" id="ui-month-label" style="font-size: 11px;">æœ¬æœˆæ–°å¢</span>
            <div id="month-count" style="font-weight: bold; color: var(--text-main);">0</div>
        </div>
        <div style="text-align: center;">
            <span class="label-text" id="ui-yesterday-label" style="font-size: 11px;">æ˜¨æ—¥æ–°å¢</span>
            <div id="yesterday-count" style="font-weight: bold; color: var(--text-main);">0</div>
        </div>
        <div style="text-align: center;">
            <span class="label-text" id="ui-today-label" style="font-size: 11px;">ä»Šæ—¥æ–°å¢</span>
            <div id="today-count" style="font-weight: bold; color: var(--primary-color);">0</div>
        </div>
    </div>
</div>

    <!-- å›¾ç‰‡åŠ è½½æç¤º -->
        <div class="sidebar-item" style="margin-bottom: 20px;">
            <div id="sidebar-progress" style="font-size: 12px; color: var(--text-muted); text-align: center; padding: 10px; background: var(--control-bg); border-radius: 8px; border: 1px dashed var(--border-color);">
                </div>
        </div>


        <div class="sidebar-item">
            <label class="label-text" id="ui-cat-label">ğŸ“‚ æ ç›®ç­›é€‰</label>
            <div class="radio-group" id="category-group"></div>
        </div>
        <div class="sidebar-item">
            <label class="label-text" id="ui-search-label">æœç´¢æ¡£æ¡ˆå†…å®¹</label>
            <div class="search-wrapper">
                <input type="text" id="search-input" class="search-input" placeholder="...">
                <button class="btn-search" id="btn-search-trigger"><i class="fas fa-search"></i></button>
            </div>
        </div>
        
        <div class="sidebar-item">
            <div class="label-row"><span class="label-text" id="ui-slider-label">â³ æ—¶é—´è½´</span><span id="date-display">...</span></div>
            <input type="range" id="date-slider" style="width:100%">
            <div class="range-sub-info">
                <span>2014-02-12</span>
                <span id="latest-date-label">...</span>
            </div>
        </div>

        <div class="sidebar-item">
            <div class="label-row"><span class="label-text" id="ui-grid-label">ğŸ–¼ï¸ åˆ—æ•°</span><span id="grid-display">3</span></div>
            <input type="range" id="grid-slider" min="1" max="6" value="3" style="width:100%">
        </div>
    </div>
</div>

<div id="main-content">
    <h1 id="ui-main-title">â³ å†å²å½±åƒæ—¶é—´æœºå™¨</h1>
    <div id="search-info" style="margin-bottom: 25px; color: var(--text-muted); font-size: 14px;"></div>
    <div class="gallery" id="gallery"></div>
    <button id="load-more">åŠ è½½æ›´å¤š...</button>

    <div id="copyright-notice">
        <p>å›¾ç‰‡ç‰ˆæƒå±äºåšè°ˆç½‘ <a href="https://botanwang.com/" target="_blank">https://botanwang.com/</a></p>
        <p>æ‰€æœ‰å½±åƒä»…ä¾›å­¦æœ¯ç ”ç©¶ä¸éå•†ä¸šå‚è€ƒä½¿ç”¨ï¼Œæœªç»è®¸å¯ç¦æ­¢è½¬è½½ã€å•†ç”¨æˆ–äºŒæ¬¡å‘å¸ƒã€‚</p>
    </div>
</div>

<div id="lightbox">
    <button class="lb-btn lb-close" onclick="closeLb()"><i class="fas fa-times"></i></button>
    <a id="lb-download" class="lb-btn" style="right:80px; pointer-events:auto;" target="_blank">
        <i class="fas fa-download"></i>
    </a>
    <div class="lb-nav">
        <button class="lb-btn" onclick="moveLb(-1)"><i class="fas fa-chevron-left"></i></button>
        <button class="lb-btn" onclick="moveLb(1)"><i class="fas fa-chevron-right"></i></button>
    </div>
    <img id="lightbox-img" alt="">
    <div id="lb-counter" style="color:white; margin-top:15px; font-size:14px; opacity:0.8;"></div>
    <div id="lb-caption" style="color:white; margin-top:25px; text-align:center; padding:0 40px; max-width: 800px; font-size:14px; line-height:1.6;"></div>
    <div id="lb-copyright">å›¾ç‰‡ç‰ˆæƒå±äºåšè°ˆç½‘ https://botanwang.com/</div>
</div>

 <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<button id="back-to-top" title="å›åˆ°é¡¶éƒ¨" style="display: none; position: fixed; bottom: 20px; right: 20px; z-index: 999; background: var(--primary-color); color: white; border: none; width: 50px; height: 50px; border-radius: 50%; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;">
    <i class="fas fa-chevron-up"></i>
</button>

<style>
    /* ç§»åŠ¨ç«¯é€‚é…ï¼šå±å¹•çª„æ—¶ç¼©å°æŒ‰é’® */
    @media (max-width: 768px) {
        #back-to-top {
            width: 40px !important;
            height: 40px !important;
            bottom: 15px !important;
            right: 15px !important;
            opacity: 0.8;
        }
    }
    #back-to-top:hover { transform: translateY(-5px); }
</style>


<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    function toggleSidebar() {
        document.getElementById('sidebar-container').classList.toggle('open');
    }

    document.getElementById('main-content').addEventListener('click', () => {
        if (window.innerWidth <= 900) {
            document.getElementById('sidebar-container').classList.remove('open');
        }
    });

// å¯»æ‰¾çº¦ 211 è¡Œï¼Œæ›´æ–° LANG_DICT
const LANG_DICT = {
    "ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡": { "title": "ğŸ® å½±åƒé¦†æ§åˆ¶å°", "main_title": "â³ å†å²å½±åƒæ—¶é—´æœºå™¨", "lang_label": "ğŸŒ è¯­è¨€åˆ‡æ¢/Language", "stats_label": "ğŸ“Š å…¨é¦†å½±åƒæ€»è®¡", "unit": "å·", "year_label": "æœ¬å¹´æ–°å¢", "month_label": "æœ¬æœˆæ–°å¢", "yesterday_label": "æ˜¨æ—¥æ–°å¢", "today_label": "ä»Šæ—¥æ–°å¢", "search_placeholder": "æœç´¢æ¡£æ¡ˆå†…å®¹å…³é”®è¯", "search_info": "ğŸ” åœ¨ {1} ä¹‹å‰æ£€ç´¢åˆ° {0} å·å½±åƒ", "search_label": "æœç´¢æ¡£æ¡ˆå†…å®¹", "cat_label": "ğŸ“‚ æ ç›®ç­›é€‰", "slider_label": "â³ æ—¶é—´è½´", "grid_label": "ğŸ–¼ï¸ åˆ—æ•°", "col_unit": "åˆ—", "load_more": "å·²åŠ è½½ {0} å¼  / å…± {1} å¼ ", "no_more": "âœ… å·²åŠ è½½å…¨éƒ¨ {0} å¼ ", "cats": ["å…¨éƒ¨", "å¾®åšè°ˆ", "å¾®å†å²", "å¾®è§†é‡"] },
    "ğŸ‡­ğŸ‡° ç¹é«”ä¸­æ–‡": { "title": "ğŸ® å½±åƒé¤¨æ§åˆ¶å°", "main_title": "â³ æ­·å²å½±åƒæ™‚é–“æ©Ÿå™¨", "lang_label": "ğŸŒ èªè¨€åˆ‡æ›/Language", "stats_label": "ğŸ“Š å…¨é¤¨å½±åƒç¸½è¨ˆ", "unit": "å·", "year_label": "æœ¬å¹´æ–°å¢", "month_label": "æœ¬æœˆæ–°å¢", "yesterday_label": "æ˜¨æ—¥æ–°å¢", "today_label": "ä»Šæ—¥æ–°å¢", "search_placeholder": "æœå°‹æª”æ¡ˆå…§å®¹é—œéµè©", "search_info": "ğŸ” åœ¨ {1} ä¹‹å‰æª¢ç´¢åˆ° {0} å·å½±åƒ", "search_label": "æœå°‹æª”æ¡ˆå…§å®¹", "cat_label": "ğŸ“‚ æ¬„ç›®ç¯©é¸", "slider_label": "â³ æ™‚é–“è»¸", "grid_label": "ğŸ–¼ï¸ åˆ—æ•¸", "col_unit": "åˆ—", "load_more": "å·²åŠ è¼‰ {0} å¼µ / å…± {1} å¼µ", "no_more": "âœ… å·²åŠ è¼‰å…¨éƒ¨ {0} å¼µ", "cats": ["å…¨éƒ¨", "å¾®åšè«‡", "å¾®æ­·å²", "å¾®è¦–é‡"] },
    "ğŸ‡ºğŸ‡¸ English": { "title": "ğŸ® Console", "main_title": "â³ History Time Machine", "lang_label": "ğŸŒ Language/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š Total Archives", "unit": "Items", "year_label": "This Year", "month_label": "This Month", "yesterday_label": "Yesterday", "today_label": "Today", "search_placeholder": "Search archive keywords", "search_info": "ğŸ” Found {0} items before {1}", "search_label": "Search Content", "cat_label": "ğŸ“‚ Categories", "slider_label": "â³ Timeline", "grid_label": "ğŸ–¼ï¸ Grid Columns", "col_unit": "Cols", "load_more": "Loaded {0} / Total {1}", "no_more": "âœ… All {0} loaded", "cats": ["All", "Weibo", "History", "Vision"] },
    "ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª": { "title": "ğŸ® ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«", "main_title": "â³ æ­´å²æ˜ åƒãƒã‚·ãƒ³", "lang_label": "ğŸŒ è¨€èªåˆ‡æ›¿/Language", "stats_label": "ğŸ“Š ç·æ•°", "unit": "å·»", "year_label": "ä»Šå¹´è¿½åŠ ", "month_label": "ä»Šæœˆè¿½åŠ ", "yesterday_label": "æ˜¨æ—¥è¿½åŠ ", "today_label": "ä»Šæ—¥è¿½åŠ ", "search_placeholder": "ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¤œç´¢", "search_info": "ğŸ” {1} ã¾ã§ã« {0} ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸ", "search_label": "ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¤œç´¢", "cat_label": "ğŸ“‚ é …ç›®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼", "slider_label": "â³ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³", "grid_label": "ğŸ–¼ï¸ è¡¨ç¤ºåˆ—æ•°", "col_unit": "åˆ—", "load_more": "èª­ã¿è¾¼ã¿ {0} / åˆè¨ˆ {1}", "no_more": "âœ… å…¨ {0} ä»¶èª­ã¿è¾¼ã¿å®Œäº†", "cats": ["ã™ã¹ã¦", "å¾®åšè«‡", "å¾®æ­´å²", "å¾®è¦–é‡"] },
    "ğŸ‡°ğŸ‡· í•œêµ­ì–´": { "title": "ğŸ® ì œì–´íŒ", "main_title": "â³ ì—­ì‚¬ íƒ€ì„ë¨¸ì‹ ", "lang_label": "ğŸŒ ì–¸ì–´ ë³€ê²½/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š ì•„ì¹´ì´ë¸Œ í•©ê³„", "unit": "ê¶Œ", "year_label": "ì˜¬í•´ ì¶”ê°€ë¨", "month_label": "ì´ë²ˆ ë‹¬ ì¶”ê°€", "yesterday_label": "ì–´ì œ ì¶”ê°€ë¨", "today_label": "ì˜¤ëŠ˜ ì¶”ê°€ë¨", "search_placeholder": "ì•„ì¹´ì´ë¸Œ ê²€ìƒ‰", "search_info": "ğŸ” {1} ì´ì „ì— {0}ê°œ ë°œê²¬", "search_label": "ì•„ì¹´ì´ë¸Œ ê²€ìƒ‰", "cat_label": "ğŸ“‚ ì¹´í…Œê³ ë¦¬ í•„í„°", "slider_label": "â³ ì‹œê°„ì¶•", "grid_label": "ğŸ–¼ï¸ ì—´ ê°œìˆ˜", "col_unit": "ì—´", "load_more": "ë¡œë“œ {0} / ì´ {1}", "no_more": "âœ… ëª¨ë“  {0}ê°œ ë¡œë“œ ì™„ë£Œ", "cats": ["ì „ì²´", "å¾®åšè«‡", "å¾®æ­·å²", "å¾®è¦–é‡"] },
    "ğŸ‡©ğŸ‡ª Deutsch": { "title": "ğŸ® Konsole", "main_title": "â³ Zeitmaschine", "lang_label": "ğŸŒ Sprache/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š Archiv Gesamt", "unit": "Bilder", "year_label": "Dieses Jahr", "month_label": "Diesen Monat", "yesterday_label": "Gestern neu", "today_label": "Heute neu", "search_placeholder": "Archiv durchsuchen", "search_info": "ğŸ” {0} Bilder vor {1} gefunden", "search_label": "Suche", "cat_label": "ğŸ“‚ Kategorien", "slider_label": "â³ Zeitachse", "grid_label": "ğŸ–¼ï¸ Spalten", "col_unit": "Sp.", "load_more": "{0} geladen / {1} gesamt", "no_more": "âœ… Alle {0} geladen", "cats": ["Alle", "Diskussion", "Geschichte", "Vision"] },
    "ğŸ‡«ğŸ‡· FranÃ§ais": { "title": "ğŸ® Console", "main_title": "â³ Machine du temps", "lang_label": "ğŸŒ Langue/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š Total des archives", "unit": "Images", "year_label": "Cette annÃ©e", "month_label": "Ce mois-ci", "yesterday_label": "Ajouts d'hier", "today_label": "Ajouts d'aujourd'hui", "search_placeholder": "Rechercher dans les archives", "search_info": "ğŸ” {0} images trouvÃ©es avant {1}", "search_label": "Rechercher", "cat_label": "ğŸ“‚ CatÃ©gories", "slider_label": "â³ Axe temporel", "grid_label": "ğŸ–¼ï¸ Colonnes", "col_unit": "Cols", "load_more": "{0} chargÃ©s / {1} total", "no_more": "âœ… {0} images chargÃ©es", "cats": ["Tout", "DÃ©bats", "Histoire", "Vision"] },
    "ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ": { "title": "ğŸ® Ú©Ù†Ø³ÙˆÙ„", "main_title": "â³ Ù…Ø§Ø´ÛŒÙ† Ø²Ù…Ø§Ù†", "lang_label": "ğŸŒ Ø²Ø¨Ø§Ù†/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š Ú©Ù„ Ø¨Ø§ÛŒÚ¯Ø§Ù†ÛŒ", "unit": "Ù…ÙˆØ±Ø¯", "year_label": "Ø§Ù…Ø³Ø§Ù„", "month_label": "Ø§ÛŒÙ† Ù…Ø§Ù‡", "yesterday_label": "Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ Ø¯ÛŒØ±ÙˆØ²", "today_label": "Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡ Ø§Ù…Ø±ÙˆØ²", "search_placeholder": "Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ø¢Ø±Ø´ÛŒÙˆ", "search_info": "ğŸ” {0} ØªØµÙˆÛŒØ± Ù‚Ø¨Ù„ Ø§Ø² {1} Ù¾ÛŒØ¯Ø§ Ø´Ø¯", "search_label": "Ø¬Ø³ØªØ¬ÙˆÛŒ Ø¢Ø±Ø´ÛŒÙˆ", "cat_label": "ğŸ“‚ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§", "slider_label": "â³ Ø®Ø· Ø²Ù…Ø§Ù†ÛŒ", "grid_label": "ğŸ–¼ï¸ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§", "col_unit": "Ø³ØªÙˆÙ†", "load_more": "{0} Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ / {1} Ú©Ù„", "no_more": "âœ… ØªÙ…Ø§Ù… {0} Ù…ÙˆØ±Ø¯", "cats": ["Ù‡Ù…Ù‡", "Ú¯ÙØªÚ¯Ùˆ", "ØªØ§Ø±ÛŒØ®", "Ú†Ø´Ù… Ø§Ù†Ø¯Ø§Ø²"] },
    "ğŸ‡¹ğŸ‡­ à¹„à¸—à¸¢": { "title": "ğŸ® à¹à¸œà¸‡à¸„à¸§à¸šà¸„à¸¸à¸¡", "main_title": "â³ à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¢à¹‰à¸­à¸™à¹€à¸§à¸¥à¸²", "lang_label": "ğŸŒ à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¸ à¸²à¸©à¸²/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š à¸„à¸¥à¸±à¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”", "unit": "à¸£à¸²à¸¢à¸à¸²à¸£", "year_label": "à¸›à¸µà¸™à¸µà¹‰", "month_label": "à¹€à¸”à¸·à¸­à¸™à¸™à¸µà¹‰", "yesterday_label": "à¹€à¸à¸´à¹ˆà¸¡à¹€à¸¡à¸·à¹ˆà¸­à¸§à¸²à¸™", "today_label": "à¹€à¸à¸´à¹ˆà¸¡à¸§à¸±à¸™à¸™à¸µà¹‰", "search_placeholder": "à¸„à¹‰à¸™à¸«à¸²à¹ƒà¸™à¸„à¸¥à¸±à¸‡", "search_info": "ğŸ” à¸à¸š {0} à¸£à¸²à¸¢à¸à¸²à¸£à¸à¹ˆà¸­à¸™ {1}", "search_label": "à¸„à¹‰à¸™à¸«à¸²", "cat_label": "ğŸ“‚ à¸à¸£à¸­à¸‡à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆ", "slider_label": "â³ à¹à¸à¸™à¹€à¸§à¸¥à¸²", "grid_label": "ğŸ–¼ï¸ à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ", "col_unit": "à¸„à¸­à¸¥à¸±à¸¡à¸™à¹Œ", "load_more": "à¹‚à¸«à¸¥à¸” {0} / à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” {1}", "no_more": "âœ… à¹‚à¸«à¸¥à¸”à¸„à¸£à¸š {0} à¸£à¸²à¸¢à¸à¸²à¸£", "cats": ["à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”", "à¸à¸¹à¸”à¸„à¸¸à¸¢", "à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸¨à¸²à¸ªà¸•à¸£à¹Œ", "à¸§à¸´à¸ªà¸±à¸¢à¸—à¸±à¸¨à¸™à¹Œ"] },
    "ğŸ‡»ğŸ‡³ Tiáº¿ng Viá»‡t": { "title": "ğŸ® Báº£ng Ä‘iá»u khiá»ƒn", "main_title": "â³ Cá»— mÃ¡y thá»i gian", "lang_label": "ğŸŒ NgÃ´n ngá»¯/èªè¨€åˆ‡æ›", "stats_label": "ğŸ“Š Tá»•ng kho áº£nh", "unit": "Má»¥c", "year_label": "NÄƒm nay", "month_label": "ThÃ¡ng nÃ y", "yesterday_label": "ThÃªm hÃ´m qua", "today_label": "ThÃªm hÃ´m nay", "search_placeholder": "TÃ¬m kiáº¿m ná»™i dung", "search_info": "ğŸ” TÃ¬m tháº¥y {0} má»¥c trÆ°á»›c {1}", "search_label": "TÃ¬m kiáº¿m", "cat_label": "ğŸ“‚ PhÃ¢n loáº¡i", "slider_label": "â³ Trá»¥c thá»i gian", "grid_label": "ğŸ–¼ï¸ Sá»‘ cá»™t", "col_unit": "Cá»™t", "load_more": "ÄÃ£ táº£i {0} / Tá»•ng {1}", "no_more": "âœ… ÄÃ£ táº£i xong {0} má»¥c", "cats": ["Táº¥t cáº£", "Tháº£o luáº­n", "Lá»‹ch sá»­", "Táº§m nhÃ¬n"] }
};

    const SB_URL = "https://ztsdhjjnydrnsxgsheyb.supabase.co";
    const SB_KEY = "sb_publishable_39tYq9zt52DxihifjY_ENw_elQW0FoK";
    const mySupabase = supabase.createClient(SB_URL, SB_KEY);

    let state = { lang: "ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡", category: "å…¨éƒ¨", search: "", dateLimit: null, grid: 3, page: 0, pageSize: 50, allImages: [], currentLbIdx: 0, lastDate: null, totalSearchCount: 0, loading: false };

    async function initUI() {
        const langSelect = document.getElementById('lang-select');
        Object.keys(LANG_DICT).forEach(l => {
            const opt = document.createElement('option');
            opt.value = opt.innerText = l;
            langSelect.appendChild(opt);
        });
        langSelect.value = state.lang;

        await fetchGlobalTotal();
        await fetchDateRange();
        updateLanguage();
        adjustColumnsOnResize();
        await refreshData(true);
    }

// å¯»æ‰¾çº¦ 233 è¡Œï¼Œæ›¿æ¢æ•´ä¸ª fetchGlobalTotal å‡½æ•°
async function fetchGlobalTotal() {
    // 1. è·å–å…¨é¦†æ€»æ•°
    const { count: totalCount } = await mySupabase.from('botan_final').select('*', { count: 'exact', head: true });
    document.getElementById('total-count').innerText = totalCount ? totalCount.toLocaleString() : "0";

    // 2. è®¡ç®—æ—¥æœŸèŠ‚ç‚¹
    const now = new Date();
    const todayStr = now.toISOString().split('T')[0];
    
    const yesterday = new Date();
    yesterday.setDate(yesterday.getDate() - 1);
    const yesterdayStr = yesterday.toISOString().split('T')[0];

    const firstDayOfMonth = new Date(now.getFullYear(), now.getMonth(), 1).toISOString().split('T')[0];
    const firstDayOfYear = new Date(now.getFullYear(), 0, 1).toISOString().split('T')[0];

    // 3. è·å–ä»Šæ—¥æ–°å¢
    const { count: tCount } = await mySupabase.from('botan_final').select('*', { count: 'exact', head: true }).eq('production_date', todayStr);
    // 4. è·å–æ˜¨æ—¥æ–°å¢
    const { count: yCount } = await mySupabase.from('botan_final').select('*', { count: 'exact', head: true }).eq('production_date', yesterdayStr);
    // 5. è·å–æœ¬æœˆæ–°å¢ (>= æœ¬æœˆ1å·)
    const { count: mCount } = await mySupabase.from('botan_final').select('*', { count: 'exact', head: true }).gte('production_date', firstDayOfMonth);
    // 6. è·å–æœ¬å¹´æ–°å¢ (>= æœ¬å¹´1æœˆ1å·)
    const { count: yearCountVal } = await mySupabase.from('botan_final').select('*', { count: 'exact', head: true }).gte('production_date', firstDayOfYear);

    // æ›´æ–°åˆ°é¡µé¢
    document.getElementById('today-count').innerText = tCount || 0;
    document.getElementById('yesterday-count').innerText = yCount || 0;
    document.getElementById('month-count').innerText = mCount || 0;
    document.getElementById('year-count').innerText = yearCountVal || 0;
}

    async function fetchDateRange() {
        const { data: maxData } = await mySupabase.from('botan_final').select('production_date').order('production_date', { ascending: false }).limit(1);
        const { data: minData } = await mySupabase.from('botan_final').select('production_date').order('production_date', { ascending: true }).limit(1);

        let latest = new Date().toISOString().split('T')[0];
        let earliest = "2014-02-12";

        if (maxData && maxData[0]) latest = maxData[0].production_date;
        if (minData && minData[0]) earliest = minData[0].production_date;

        document.getElementById('latest-date-label').innerText = latest;
        document.querySelector('.range-sub-info span:first-child').innerText = earliest;

        const latestTime = new Date(latest).getTime();
        const earliestTime = new Date(earliest).getTime();

        const slider = document.getElementById('date-slider');
        slider.min = earliestTime;
        slider.max = latestTime;
        slider.value = latestTime;

        state.dateLimit = latest;
        document.getElementById('date-display').innerText = latest;
    }

    function changeLang(val) { state.lang = val; updateLanguage(); refreshData(true); }
//  updateLanguage å‡½æ•°å†…æ·»åŠ å¹´æœˆæ—¥
    function updateLanguage() {
        const L = LANG_DICT[state.lang];
        document.getElementById('ui-title').innerText = L.title;
        document.getElementById('ui-main-title').innerText = L.main_title;
        document.getElementById('ui-lang-label').innerText = L.lang_label;
        document.getElementById('ui-stats-label').innerText = L.stats_label;
        document.getElementById('ui-unit').innerText = L.unit;
        document.getElementById('ui-cat-label').innerText = L.cat_label;
        document.getElementById('ui-search-label').innerText = L.search_label;
        document.getElementById('search-input').placeholder = L.search_placeholder;
        document.getElementById('ui-slider-label').innerText = L.slider_label;
        document.getElementById('ui-grid-label').innerText = L.grid_label;
        document.getElementById('grid-display').innerText = `${state.grid} ${L.col_unit}`;
        document.getElementById('ui-yesterday-label').innerText = L.yesterday_label;
        document.getElementById('ui-today-label').innerText = L.today_label;
        document.getElementById('ui-year-label').innerText = L.year_label;
        document.getElementById('ui-month-label').innerText = L.month_label;

        const catGroup = document.getElementById('category-group');
        catGroup.innerHTML = "";
        const dbCatsMap = ["å…¨éƒ¨", "å¾®åšè°ˆ", "å¾®å†å²", "å¾®è§†é‡"];
        L.cats.forEach((c, idx) => {
            const realCat = dbCatsMap[idx];
            const div = document.createElement('div');
            div.className = `radio-item ${state.category === realCat ? 'active' : ''}`;
            div.innerText = c;
            div.onclick = () => { state.category = realCat; updateLanguage(); refreshData(true); };
            catGroup.appendChild(div);
        });

        updateLoadMoreButton();
    }

    function updateGridColumns() {
        document.documentElement.style.setProperty('--column-count', state.grid);
    }

    function adjustColumnsOnResize() {
        const width = window.innerWidth;
        let maxCols = width < 600 ? 1 : width < 900 ? 2 : width < 1200 ? 3 : width < 1600 ? 4 : 5;
        maxCols = Math.min(maxCols, 6);

        if (state.grid > maxCols) {
            state.grid = maxCols;
            document.getElementById('grid-slider').value = state.grid;
            document.getElementById('grid-display').innerText = `${state.grid} ${LANG_DICT[state.lang].col_unit}`;
        }
        updateGridColumns();
    }

    window.addEventListener('resize', adjustColumnsOnResize);

    async function refreshData(isNew = false) {
        if (isNew) { state.page = 0; state.allImages = []; state.lastDate = null; document.getElementById('gallery').innerHTML = ""; }
        const L = LANG_DICT[state.lang];

        let query = mySupabase.from('botan_final').select('*', { count: 'exact' });
        query = query.lte('production_date', state.dateLimit);
        if (state.search) query = query.ilike('description', `%${state.search}%`);
        if (state.category !== "å…¨éƒ¨") query = query.eq('category', state.category);
        query = query.order('production_date', { ascending: false }).range(state.page * state.pageSize, (state.page + 1) * state.pageSize - 1);

        const { data, count, error } = await query;
        if (error || !data) {
            console.error("Supabase error:", error);
            return;
        }

        state.totalSearchCount = count || 0;
        document.getElementById('search-info').innerText = L.search_info.replace('{0}', state.totalSearchCount.toLocaleString()).replace('{1}', state.dateLimit);
        state.allImages = state.allImages.concat(data);
        renderCards(data);
        updateLoadMoreButton();
    }

    function renderCards(data) {
        const container = document.getElementById('gallery');
        
        data.forEach((item) => {
            if (item.production_date !== state.lastDate) {
                const header = document.createElement('div');
                header.className = 'date-group-header';
                header.innerHTML = `<i class="fas fa-calendar-alt"></i> ${item.production_date}`;
                container.appendChild(header);
                state.lastDate = item.production_date;
            }

            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-img-container"><img src="${item.image_url}" onclick="openLbByUrl('${item.image_url}')" loading="lazy" onerror="this.src='https://via.placeholder.com/320x240?text=åŠ è½½å¤±è´¥';"></div>
                <div class="card-info">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <span class="item-date">ğŸ“… ${item.production_date}</span>
                        <a class="item-title-link" onclick="toggleInfo(this)">${item.title || 'åšè°ˆæ¡£æ¡ˆ'}</a>
                    </div>
                    <div class="description-panel">${item.description || ''}</div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    function toggleInfo(btn) { 
        const panel = btn.parentElement.nextElementSibling;
        panel.classList.toggle('open'); 
    }

    function openLbByUrl(url) {
        state.currentLbIdx = state.allImages.findIndex(i => i.image_url === url);
        updateLb();
        document.getElementById('lightbox').style.display = 'flex';
        document.body.style.overflow = 'hidden';
    }

    function updateLb() {
        const item = state.allImages[state.currentLbIdx];
        document.getElementById('lightbox-img').src = item.image_url;
        document.getElementById('lb-caption').innerText = item.description || '';
        document.getElementById('lb-copyright').innerText = 'å›¾ç‰‡ç‰ˆæƒå±äºåšè°ˆç½‘ https://botanwang.com/';
        
        const downloadBtn = document.getElementById('lb-download');
        downloadBtn.href = item.image_url;
        downloadBtn.download = `botan_${item.production_date || 'unknown'}.jpg`;
        
        document.getElementById('lb-counter').innerText = `${state.currentLbIdx + 1} / ${state.allImages.length}`;
    }

    function moveLb(dir) {
        state.currentLbIdx = (state.currentLbIdx + dir + state.allImages.length) % state.allImages.length;
        updateLb();
    }

    function closeLb() { 
        document.getElementById('lightbox').style.display = 'none'; 
        document.body.style.overflow = 'auto'; 
    }

    function triggerSearch() { 
        state.search = document.getElementById('search-input').value.trim(); 
        refreshData(true); 
    }
    document.getElementById('btn-search-trigger').onclick = triggerSearch;
    document.getElementById('search-input').onkeydown = (e) => { if(e.key === 'Enter') triggerSearch(); };

    document.getElementById('date-slider').oninput = (e) => {
        state.dateLimit = new Date(parseInt(e.target.value)).toISOString().split('T')[0];
        document.getElementById('date-display').innerText = state.dateLimit;
        clearTimeout(window.dt); window.dt = setTimeout(() => refreshData(true), 300);
    };

    document.getElementById('grid-slider').oninput = (e) => {
        state.grid = parseInt(e.target.value);
        document.getElementById('grid-display').innerText = `${state.grid} ${LANG_DICT[state.lang].col_unit}`;
        adjustColumnsOnResize();
    };

    initUI();

    // é”®ç›˜ç¿»é¡µ
    document.addEventListener('keydown', (e) => {
        const lightbox = document.getElementById('lightbox');
        if (lightbox.style.display === 'flex') {
            e.preventDefault();
            if (e.key === 'ArrowLeft') moveLb(-1);
            else if (e.key === 'ArrowRight') moveLb(1);
            else if (e.key === 'Escape') closeLb();
        }
    });

    // æ— é™æ»šåŠ¨
    window.addEventListener('scroll', () => {
        if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000) {
            if (state.allImages.length < state.totalSearchCount && !state.loading) {
                state.loading = true;
                state.page++;
                refreshData().then(() => state.loading = false);
            }
        }
    });
    document.getElementById('load-more').style.display = 'none';

    // åŠ è½½è¿›åº¦æç¤º
    //const progressInfo = document.createElement('div');
    //progressInfo.id = 'load-progress';
    //progressInfo.style.cssText = 'text-align:center; margin:20px 0; font-size:14px; color:var(--text-muted);';
    //document.getElementById('search-info').after(progressInfo);

// å›¾ç‰‡åŠ è½½å·¦ç§» updateProgressInfo å‡½æ•°ï¼š
function updateProgressInfo() {
    const L = LANG_DICT[state.lang];
    const progressEl = document.getElementById('sidebar-progress'); // æ”¹ä¸ºè·å–ä¾§è¾¹æ çš„å®¹å™¨
    if (!progressEl) return;

    if (state.allImages.length >= state.totalSearchCount) {
        progressEl.innerText = L.no_more.replace('{0}', state.allImages.length.toLocaleString());
    } else {
        progressEl.innerText = L.load_more.replace('{0}', state.allImages.length.toLocaleString()).replace('{1}', state.totalSearchCount.toLocaleString());
    }
}

    function updateLoadMoreButton() {
        updateProgressInfo();
    }
	
// ==========================================
// ã€æ–°å¢ä»£ç ï¼šå›åˆ°é¡¶éƒ¨æ§åˆ¶é€»è¾‘ã€‘
// è·å–åˆšæ‰åœ¨ HTML é‡Œå®šä¹‰çš„æŒ‰é’®
const topBtn = document.getElementById("back-to-top");

// ç›‘å¬ç½‘é¡µæ»šåŠ¨
window.addEventListener('scroll', () => {
    // å½“æ»šåŠ¨é«˜åº¦è¶…è¿‡ 500 åƒç´ æ—¶æ˜¾ç¤ºæŒ‰é’®ï¼Œå¦åˆ™éšè—
    if (window.scrollY > 500) {
        topBtn.style.display = "flex";
    } else {
        topBtn.style.display = "none";
    }
});

// ç‚¹å‡»æŒ‰é’®æ—¶çš„åŠ¨ä½œ
topBtn.onclick = function() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth' // å¯ç”¨å¹³æ»‘æ»šåŠ¨æ•ˆæœ
    });
};
// ã€æ–°å¢ä»£ç ç»“æŸã€‘
// ==========================================

	
</script>
</body>
</html>
